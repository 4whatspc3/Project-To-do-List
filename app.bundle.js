(()=>{"use strict";const t=()=>{const t=document.createElement("div");t.classList.add("toDoContainer");const e=document.createElement("div");e.classList.add("placeToDos"),e.style.border="1px solid green";const o=document.createElement("button");return o.classList.add("btnToDo"),o.textContent="click me todo",t.append(e,o),{toDoContainer:t,containerNumber:e=>{t.setAttribute("data-display-num",e)}}},e=(t,e,o,n,s,a)=>({title:t,description:e,dueDate:o,priority:n,notes:s,check:a,getAllInfo:r=>{const c=document.createElement("div");c.setAttribute("data-todo-num",r);const l=document.createElement("p");l.textContent=`title: ${t}, description: ${e}, due date: ${o},\n                                 priority: ${n}, notes: ${s}, check: ${a}`;const d=document.createElement("button");d.classList.add("del"),d.textContent="delete";const i=document.createElement("button");return i.classList.add("upt"),i.textContent="update",c.append(l,d,i),c}}),o=()=>{const t=document.createElement("div");t.classList.add("container-forms");const e=(()=>{const t=document.createElement("form");t.classList.add("form"),t.setAttribute("method","dialog"),t.setAttribute("autocomplete","off");const e=document.createElement("div"),o=document.createElement("label");o.textContent="Title",o.setAttribute("for","title");const n=document.createElement("input");n.setAttribute("type","text"),n.setAttribute("id","title"),n.setAttribute("name","title"),n.setAttribute("minlength","1"),n.setAttribute("required","true");const s=document.createElement("button");return s.classList.add("button"),s.setAttribute("type","submit"),s.textContent="Submit form",e.append(o,n,s),t.append(e),{forms:t}})(),o=document.createElement("div");o.classList.add("open-modal");const n=document.createElement("button");n.classList.add("open-button"),n.textContent="Open modal";const s=document.createElement("dialog");s.classList.add("modal"),s.setAttribute("id","modal");const a=document.createElement("div");a.classList.add("modal-content");const r=document.createElement("button");return r.classList.add("close-button"),r.textContent="Close modal",a.append(e.forms,r),s.append(a),o.append(n),t.append(o,s),{containerForms:t}},n=(()=>{const{container:e,content:n,btn:s}=(()=>{const t=document.createElement("div");t.classList.add("container"),t.style.border="1px solid blue";const e=document.createElement("div");e.classList.add("content"),e.style.border="1px solid pink";const o=document.createElement("button");return o.classList.add("btnProject"),o.textContent="click me",{container:t,content:e,btn:o}})(),{projContainer:a,projBody:r}=(()=>{const t=document.createElement("div");t.classList.add("projContainer"),t.style.border="1px solid blue";const e=document.createElement("div");e.classList.add("projHeader");const o=document.createElement("p");o.textContent="Projects",e.append(o);const n=document.createElement("div");return n.classList.add("projBody"),n.style.border="1px solid red",t.append(e,n),{projContainer:t,projBody:n}})(),{toDoContainer:c,containerNumber:l}=t(),{getTitle:d,passNumber:i}={getTitle:()=>prompt("test"),passNumber:(t,e)=>{document.querySelectorAll(`.${t}`).forEach((t=>{t.setAttribute("data-proj-num",e),e++}))}},{projHome:m}=(()=>{const t=document.createElement("div");t.classList.add("projHome"),t.style.border="1px solid purple";const e=document.createElement("img"),o=document.createElement("button");return o.classList.add("btnHome"),o.textContent="Home",t.append(e,o),{projHome:t}})(),{containerForms:p}=o();return{container:e,content:n,btn:s,projContainer:a,toDoContainer:c,projBody:r,projHome:m,containerForms:p,containerNumber:l,getTitle:d,passNumber:i}})();n.container.append(n.btn,n.projContainer,n.content),n.projBody.append(n.projHome),n.content.append(n.toDoContainer),n.containerNumber("home"),document.body.append(n.containerForms,n.container);const s={i:0,j:0,k:0,listOfsaves:[],listOfDisplays:[],listOfProjects:[]};function a(t){t.replaceChildren()}document.querySelector(".container").addEventListener("click",(o=>{if(o.target.matches(".btnHome")){const t=document.querySelector(".content");a(t),t.append(n.toDoContainer),n.containerNumber("home");const e=document.querySelector(".placeToDos");if(a(e),0===s.i){const t=document.createElement("p");t.textContent="There are no tasks",e.append(t)}else{for(;s.x<s.listOfsaves.length;){let t=s.listOfsaves[s.x].fillSave;for(let o in t)e.append(t[o].getAllInfo(o)),document.querySelector("button.del").remove(),document.querySelector("button.upt").remove();s.x++}s.x=0}}if(o.target.matches(".btnProject")){const e=(()=>{const t=document.createElement("div");t.classList.add("projBlock"),t.style.border="1px solid orange";const e=document.createElement("img"),o=document.createElement("button");return o.classList.add("btnTitle"),t.append(e,o),{projBlock:t,passTitle:t=>{o.textContent=t}}})();e.passTitle(n.getTitle());const o=((...t)=>({fillSave:Object.assign({},{...t})}))();s.listOfsaves.push(o);const a=t();s.listOfDisplays.push(a),document.querySelector(".projBody").append(e.projBlock),n.passNumber("btnTitle",s.j)}if(o.target.matches(".btnTitle")){let t=o.target.dataset.projNum;const e=document.querySelector(".content");a(e),e.append(s.listOfDisplays[t].toDoContainer),s.listOfDisplays[t].containerNumber(t)}if(o.target.matches(".btnToDo")){s.i++;let t=o.target.parentNode.dataset.displayNum,n=Object.keys(s.listOfsaves[t].fillSave).length;s.k=n>0?1===n?1:n:0;const r=s.listOfsaves[t].fillSave;let c=prompt("test"),l=prompt("test"),d=prompt("test"),i=prompt("test"),m=prompt("test"),p=prompt("test");const u=e(c,l,d,i,m,p);r[s.k]=u,s.listOfsaves[t].fillSave=r;const b=document.querySelector(".placeToDos");a(b);for(let t in r)b.append(r[t].getAllInfo(t))}if(o.target.matches(".del")){let t;s.i--,s.i<0&&(s.i=0);let e=document.querySelector(".toDoContainer").dataset.displayNum,n=s.listOfsaves[e].fillSave;t=1===Object.keys(n).length?0:o.target.parentNode.dataset.todoNum,delete n[t],o.target.parentNode.remove();const a=Object.values(n);n={};let r=0;for(;r<a.length;)n[r]=a[r],r++;s.listOfsaves[e].fillSave=n}if(o.target.matches(".upt")){let t=document.querySelector(".toDoContainer").dataset.displayNum;const n=s.listOfsaves[t].fillSave;let r=o.target.parentNode.dataset.todoNum,c=prompt("test"),l=prompt("test"),d=prompt("test"),i=prompt("test"),m=prompt("test"),p=prompt("test");const u=e(c,l,d,i,m,p);n[r]=u,s.listOfsaves[t].fillSave=n;const b=document.querySelector(".placeToDos");a(b);for(let t in n)b.append(n[t].getAllInfo(t))}s.j=0})),document.querySelector(".container-forms").addEventListener("click",(t=>{t.target.matches(".open-button")&&modal.showModal(),t.target.matches(".close-button")&&modal.close(),t.target.matches(".button")&&(t.preventDefault(),console.log("abelha"))}))})();