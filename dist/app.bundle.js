(()=>{"use strict";const t=()=>{const t=document.createElement("div");t.classList.add("toDoContainer");const e=document.createElement("div");e.classList.add("placeToDos"),e.style.border="1px solid green";const n=document.createElement("button");return n.classList.add("btnToDo"),n.textContent="click me todo",t.append(e,n),{toDoContainer:t,containerNumber:e=>{t.setAttribute("data-display-num",e)}}},e=(t,e,n,o,c,s)=>({title:t,description:e,dueDate:n,priority:o,notes:c,check:s,getAllInfo:a=>{const r=document.createElement("div");r.setAttribute("data-todo-num",a);const d=document.createElement("p");d.textContent=`title: ${t}, description: ${e}, due date: ${n},\n                                 priority: ${o}, notes: ${c}, check: ${s}`;const l=document.createElement("button");l.classList.add("del"),l.textContent="delete";const i=document.createElement("button");return i.classList.add("upt"),i.textContent="update",r.append(d,l,i),r}}),n=()=>{const t=document.createElement("div"),e=document.createElement("label");e.textContent="Title:",e.setAttribute("for","title");const n=document.createElement("input"),o=a("text","title","title","1","true");return t.append(e,n),{title:t,titleLabel:e,titleInput:n,titleAttributes:o}},o=()=>{const t=document.createElement("div"),e=document.createElement("label");e.textContent="Description:",e.setAttribute("for","description");const n=document.createElement("input"),o=a("text","description","description","1","true");return t.append(e,n),{description:t,descrLabel:e,descrInput:n,descrAttributes:o}},c=()=>{const t=document.createElement("div"),e=document.createElement("label");e.textContent="Due date:",e.setAttribute("for","dueDate");const n=document.createElement("input"),o=a("date","dueDate","dueDate","2024-01-01","true");return t.append(e,n),{dueDate:t,dueDateLabel:e,dueDateInput:n,dueDateAttributes:o}},s=()=>{const t=document.createElement("div"),e=document.createElement("label");e.textContent="Check:",e.setAttribute("for","check");const n=document.createElement("input"),o=a("checkbox","check","check");return t.append(e,n),{check:t,checkLabel:e,checkInput:n,checkAttributes:o}},a=(t,e,n,o,c)=>({type:t,id:e,name:n,minlength:o,required:c}),r=(t,e)=>{Object.keys(e).forEach((n=>t.setAttribute(n,e[n])))},d=()=>{const t=document.createElement("div");t.classList.add("container-forms");const e=(()=>{const{title:t,titleLabel:e,titleInput:a,titleAttributes:d}=n(),{description:l,descrLabel:i,descrInput:u,descrAttributes:m}=o(),{dueDate:p,dueDateInput:b,dueDateLabel:f,dueDateAttributes:v}=c(),{check:E,checkLabel:y,checkInput:h,checkAttributes:D}=s(),j=document.createElement("form");j.classList.add("form"),j.setAttribute("method","dialog"),j.setAttribute("autocomplete","off"),r(a,d),r(u,m),r(b,v),r(h,D);const C=document.createElement("button");return C.classList.add("button"),C.setAttribute("type","submit"),C.textContent="Submit form",j.append(t,l,p,E,C),{forms:j}})(),a=document.createElement("div");a.classList.add("open-modal");const d=document.createElement("button");d.classList.add("open-button"),d.textContent="Open modal";const l=document.createElement("dialog");l.classList.add("modal"),l.setAttribute("id","modal");const i=document.createElement("div");i.classList.add("modal-content");const u=document.createElement("button");return u.classList.add("close-button"),u.textContent="Close modal",i.append(e.forms,u),l.append(i),a.append(d),t.append(a,l),{containerForms:t}},l=(()=>{const{container:e,content:n,btn:o}=(()=>{const t=document.createElement("div");t.classList.add("container"),t.style.border="1px solid blue";const e=document.createElement("div");e.classList.add("content"),e.style.border="1px solid pink";const n=document.createElement("button");return n.classList.add("btnProject"),n.textContent="click me",{container:t,content:e,btn:n}})(),{projContainer:c,projBody:s}=(()=>{const t=document.createElement("div");t.classList.add("projContainer"),t.style.border="1px solid blue";const e=document.createElement("div");e.classList.add("projHeader");const n=document.createElement("p");n.textContent="Projects",e.append(n);const o=document.createElement("div");return o.classList.add("projBody"),o.style.border="1px solid red",t.append(e,o),{projContainer:t,projBody:o}})(),{toDoContainer:a,containerNumber:r}=t(),{getTitle:l,passNumber:i}={getTitle:()=>prompt("test"),passNumber:(t,e)=>{document.querySelectorAll(`.${t}`).forEach((t=>{t.setAttribute("data-proj-num",e),e++}))}},{projHome:u}=(()=>{const t=document.createElement("div");t.classList.add("projHome"),t.style.border="1px solid purple";const e=document.createElement("img"),n=document.createElement("button");return n.classList.add("btnHome"),n.textContent="Home",t.append(e,n),{projHome:t}})(),{containerForms:m}=d();return{container:e,content:n,btn:o,projContainer:c,toDoContainer:a,projBody:s,projHome:u,containerForms:m,containerNumber:r,getTitle:l,passNumber:i}})();l.container.append(l.btn,l.projContainer,l.content),l.projBody.append(l.projHome),l.content.append(l.toDoContainer),l.containerNumber("home"),document.body.append(l.containerForms,l.container);const i={i:0,j:0,k:0,listOfsaves:[],listOfDisplays:[],listOfProjects:[]};function u(t){t.replaceChildren()}document.querySelector(".container").addEventListener("click",(n=>{if(n.target.matches(".btnHome")){const t=document.querySelector(".content");u(t),t.append(l.toDoContainer),l.containerNumber("home");const e=document.querySelector(".placeToDos");if(u(e),0===i.i){const t=document.createElement("p");t.textContent="There are no tasks",e.append(t)}else{for(;i.x<i.listOfsaves.length;){let t=i.listOfsaves[i.x].fillSave;for(let n in t)e.append(t[n].getAllInfo(n)),document.querySelector("button.del").remove(),document.querySelector("button.upt").remove();i.x++}i.x=0}}if(n.target.matches(".btnProject")){const e=(()=>{const t=document.createElement("div");t.classList.add("projBlock"),t.style.border="1px solid orange";const e=document.createElement("img"),n=document.createElement("button");return n.classList.add("btnTitle"),t.append(e,n),{projBlock:t,passTitle:t=>{n.textContent=t}}})();e.passTitle(l.getTitle());const n=((...t)=>({fillSave:Object.assign({},{...t})}))();i.listOfsaves.push(n);const o=t();i.listOfDisplays.push(o),document.querySelector(".projBody").append(e.projBlock),l.passNumber("btnTitle",i.j)}if(n.target.matches(".btnTitle")){let t=n.target.dataset.projNum;const e=document.querySelector(".content");u(e),e.append(i.listOfDisplays[t].toDoContainer),i.listOfDisplays[t].containerNumber(t)}if(n.target.matches(".btnToDo")){i.i++;let t=n.target.parentNode.dataset.displayNum,o=Object.keys(i.listOfsaves[t].fillSave).length;i.k=o>0?1===o?1:o:0;const c=i.listOfsaves[t].fillSave;modal.showModal();const s=document.querySelector(".form");s.addEventListener("submit",(n=>{n.preventDefault();const o=e(title.value,description.value,dueDate.value,check.value);console.log(o),c[i.k]=o,i.listOfsaves[t].fillSave=c;const a=document.querySelector(".placeToDos");u(a);for(let t in c)a.append(c[t].getAllInfo(t));s.reset(),modal.close()}))}if(n.target.matches(".del")){let t;i.i--,i.i<0&&(i.i=0);let e=document.querySelector(".toDoContainer").dataset.displayNum,o=i.listOfsaves[e].fillSave;t=1===Object.keys(o).length?0:n.target.parentNode.dataset.todoNum,delete o[t],n.target.parentNode.remove();const c=Object.values(o);o={};let s=0;for(;s<c.length;)o[s]=c[s],s++;i.listOfsaves[e].fillSave=o}if(n.target.matches(".upt")){let t=document.querySelector(".toDoContainer").dataset.displayNum;const o=i.listOfsaves[t].fillSave;let c=n.target.parentNode.dataset.todoNum,s=prompt("test"),a=prompt("test"),r=prompt("test"),d=prompt("test"),l=prompt("test"),m=prompt("test");const p=e(s,a,r,d,l,m);o[c]=p,i.listOfsaves[t].fillSave=o;const b=document.querySelector(".placeToDos");u(b);for(let t in o)b.append(o[t].getAllInfo(t))}i.j=0}))})();